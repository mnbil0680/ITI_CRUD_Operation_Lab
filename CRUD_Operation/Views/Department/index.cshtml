@model List<CRUD_Operation.Models.Department>
@{
    ViewData["Title"] = "Our Departments";
}

<!-- Hero Section -->
<div class="hero-section">
    <div class="container">
        <div class="row align-items-center min-vh-50">
            <div class="col-lg-6">
                <h1 class="display-4 fw-bold text-primary mb-4">
                    <i class="bi bi-building-fill me-3"></i>
                    Discover Our Departments
                </h1>
                <p class="lead text-muted mb-4">
                    Explore the diverse departments that form the backbone of our organization.
                    Each department brings unique expertise and contributes to our collective success.
                </p>
                <div class="d-flex gap-3 flex-wrap">
                    <a asp-action="ListAll" class="btn btn-primary btn-lg">
                        <i class="bi bi-eye me-2"></i>View All Departments
                    </a>
                    <a asp-action="Create" class="btn btn-outline-success btn-lg">
                        <i class="bi bi-plus-circle me-2"></i>Add New Department
                    </a>
                </div>
            </div>
            <div class="col-lg-6 text-center">
                <div class="hero-image">
                    <i class="bi bi-buildings display-1 text-primary opacity-75"></i>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Statistics Section -->
<div class="stats-section bg-light py-5">
    <div class="container">
        <div class="row g-4">
            <div class="col-md-3 col-sm-6">
                <div class="card stat-card h-100 border-0 shadow-sm">
                    <div class="card-body text-center">
                        <div class="stat-icon bg-primary text-white rounded-circle mx-auto mb-3">
                            <i class="bi bi-building"></i>
                        </div>
                        <h3 class="fw-bold text-primary">@ViewBag.TotalDepartments</h3>
                        <p class="text-muted mb-0">Total Departments</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="card stat-card h-100 border-0 shadow-sm">
                    <div class="card-body text-center">
                        <div class="stat-icon bg-success text-white rounded-circle mx-auto mb-3">
                            <i class="bi bi-people"></i>
                        </div>
                        <h3 class="fw-bold text-success">@ViewBag.TotalEmployees</h3>
                        <p class="text-muted mb-0">Total Employees</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="card stat-card h-100 border-0 shadow-sm">
                    <div class="card-body text-center">
                        <div class="stat-icon bg-warning text-white rounded-circle mx-auto mb-3">
                            <i class="bi bi-currency-dollar"></i>
                        </div>
                        <h3 class="fw-bold text-warning">$@(ViewBag.TotalBudget != null ? ((double)ViewBag.TotalBudget / 1000000).ToString("F1") + "M" : "0")</h3>
                        <p class="text-muted mb-0">Total Budget</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="card stat-card h-100 border-0 shadow-sm">
                    <div class="card-body text-center">
                        <div class="stat-icon bg-info text-white rounded-circle mx-auto mb-3">
                            <i class="bi bi-kanban"></i>
                        </div>
                        <h3 class="fw-bold text-info">@ViewBag.TotalProjects</h3>
                        <p class="text-muted mb-0">Active Projects</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Vision & Mission Section -->
<div class="vision-mission-section py-5">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-12">
                <h2 class="display-5 fw-bold mb-3">Our Organizational Structure</h2>
                <p class="lead text-muted">How our departments work together to achieve excellence</p>
            </div>
        </div>
        <div class="row g-4">
            <div class="col-lg-6">
                <div class="card value-card h-100 border-0 shadow">
                    <div class="card-body p-4">
                        <div class="value-icon text-primary mb-3">
                            <i class="bi bi-diagram-3 display-4"></i>
                        </div>
                        <h3 class="card-title text-primary mb-3">Organizational Excellence</h3>
                        <p class="card-text lead">
                            Our departments are strategically designed to foster collaboration, efficiency, and innovation.
                            Each department plays a crucial role in our ecosystem, contributing specialized expertise
                            while maintaining seamless integration with other business units.
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="card value-card h-100 border-0 shadow">
                    <div class="card-body p-4">
                        <div class="value-icon text-success mb-3">
                            <i class="bi bi-gear-wide-connected display-4"></i>
                        </div>
                        <h3 class="card-title text-success mb-3">Operational Synergy</h3>
                        <p class="card-text lead">
                            Through cross-departmental collaboration and shared resources, we maximize efficiency
                            and drive innovation. Our integrated approach ensures that every department contributes
                            to our collective success and organizational goals.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Featured Departments Section -->
@if (Model != null && Model.Any())
{
    <div class="featured-departments-section py-5 bg-light">
        <div class="container">
            <div class="row text-center mb-5">
                <div class="col-12">
                    <h2 class="display-5 fw-bold mb-3">Key Departments</h2>
                    <p class="lead text-muted">Explore our core departments driving organizational success</p>
                </div>
            </div>
            <div class="row g-4">
                @foreach (var department in Model)
                {
                    <div class="col-lg-4 col-md-6">
                        <div class="card department-card h-100 border-0 shadow-sm">
                            <div class="card-body p-4 text-center">
                                <div class="department-icon mb-3">
                                    <div class="icon-placeholder rounded mx-auto">
                                        @if (department.Name.ToLower().Contains("it") || department.Name.ToLower().Contains("technology"))
                                        {
                                            <i class="bi bi-laptop display-3 text-primary"></i>
                                        }
                                        else if (department.Name.ToLower().Contains("hr") || department.Name.ToLower().Contains("human"))
                                        {
                                            <i class="bi bi-people display-3 text-success"></i>
                                        }
                                        else if (department.Name.ToLower().Contains("finance") || department.Name.ToLower().Contains("accounting"))
                                        {
                                            <i class="bi bi-calculator display-3 text-warning"></i>
                                        }
                                        else if (department.Name.ToLower().Contains("marketing") || department.Name.ToLower().Contains("sales"))
                                        {
                                            <i class="bi bi-megaphone display-3 text-info"></i>
                                        }
                                        else if (department.Name.ToLower().Contains("operations") || department.Name.ToLower().Contains("ops"))
                                        {
                                            <i class="bi bi-gear-wide-connected display-3 text-danger"></i>
                                        }
                                        else
                                        {
                                            <i class="bi bi-building display-3 text-secondary"></i>
                                        }
                                    </div>
                                </div>
                                <h5 class="card-title fw-bold">@department.Name</h5>
                                <span class="badge bg-primary mb-2">@department.Code</span>
                                <div class="department-stats mb-3">
                                    <div class="row text-center">
                                        <div class="col-6">
                                            <div class="stat-mini">
                                                <strong class="text-success">@department.CountEmployees</strong>
                                                <small class="d-block text-muted">Employees</small>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="stat-mini">
                                                <strong class="text-info">$@department.Budget.ToString("N0")</strong>
                                                <small class="d-block text-muted">Budget</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                @if (!string.IsNullOrWhiteSpace(department.Description))
                                {
                                    <p class="card-text text-muted small">
                                        @(department.Description.Length > 80 ? department.Description.Substring(0, 80) + "..." : department.Description)
                                    </p>
                                }
                                <div class="mt-3">
                                    <a asp-action="Details" asp-route-id="@department.ID"
                                       class="btn btn-outline-primary btn-sm me-2">
                                        <i class="bi bi-eye me-1"></i>View Details
                                    </a>
                                    @if (department.CountEmployees > 0)
                                    {
                                        <a asp-controller="Employee" asp-action="ListAll"
                                           class="btn btn-outline-success btn-sm">
                                            <i class="bi bi-people me-1"></i>@department.CountEmployees
                                        </a>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
            <div class="text-center mt-5">
                <a asp-action="ListAll" class="btn btn-primary btn-lg">
                    <i class="bi bi-building me-2"></i>View All @ViewBag.TotalDepartments Departments
                </a>
            </div>
        </div>
    </div>
}

<!-- Organizational Benefits Section -->
<div class="benefits-section py-5">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-12">
                <h2 class="display-6 fw-bold mb-4">Why Our Structure Works</h2>
                <p class="lead text-muted">The advantages of our departmental organization</p>
            </div>
        </div>
        <div class="row g-4">
            <div class="col-lg-3 col-md-6">
                <div class="benefit-item text-center">
                    <div class="benefit-icon mb-3">
                        <i class="bi bi-lightbulb display-4 text-warning"></i>
                    </div>
                    <h5 class="fw-bold">Specialized Expertise</h5>
                    <p class="text-muted">Each department focuses on their core competencies</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="benefit-item text-center">
                    <div class="benefit-icon mb-3">
                        <i class="bi bi-arrow-left-right display-4 text-primary"></i>
                    </div>
                    <h5 class="fw-bold">Cross-Collaboration</h5>
                    <p class="text-muted">Seamless integration between departments</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="benefit-item text-center">
                    <div class="benefit-icon mb-3">
                        <i class="bi bi-speedometer2 display-4 text-success"></i>
                    </div>
                    <h5 class="fw-bold">Operational Efficiency</h5>
                    <p class="text-muted">Streamlined processes and clear responsibilities</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="benefit-item text-center">
                    <div class="benefit-icon mb-3">
                        <i class="bi bi-graph-up-arrow display-4 text-info"></i>
                    </div>
                    <h5 class="fw-bold">Scalable Growth</h5>
                    <p class="text-muted">Structure that adapts to organizational expansion</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Action Section -->
<div class="action-section py-5">
    <div class="container">
        <div class="row text-center">
            <div class="col-12">
                <h2 class="display-6 fw-bold mb-4">Ready to Explore Our Organization?</h2>
                <p class="lead text-muted mb-4">
                    Discover how our departments work together to create exceptional results
                </p>
                <div class="d-flex gap-3 justify-content-center flex-wrap">
                    <a asp-action="Create" class="btn btn-success btn-lg">
                        <i class="bi bi-plus-circle me-2"></i>Add New Department
                    </a>
                    <a asp-controller="Employee" asp-action="Index" class="btn btn-outline-light btn-lg">
                        <i class="bi bi-people me-2"></i>Meet Our Team
                    </a>
                    <a asp-controller="Project" asp-action="Index" class="btn btn-outline-light btn-lg">
                        <i class="bi bi-kanban me-2"></i>View Projects
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Custom Styles -->
<style>
    .hero-section {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        padding: 80px 0;
    }

    .min-vh-50 {
        min-height: 50vh;
    }

    .stat-card {
        transition: transform 0.2s ease-in-out;
    }

        .stat-card:hover {
            transform: translateY(-5px);
        }

    .stat-icon {
        width: 60px;
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
    }

    .value-card {
        transition: transform 0.2s ease-in-out;
    }

        .value-card:hover {
            transform: translateY(-5px);
        }

    .department-card {
        transition: transform 0.2s ease-in-out;
    }

        .department-card:hover {
            transform: translateY(-5px);
        }

    .icon-placeholder {
        width: 80px;
        height: 80px;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #f8f9fa;
        border: 2px solid #e9ecef;
    }

    .department-stats .stat-mini {
        padding: 0.5rem;
    }

        .department-stats .stat-mini strong {
            font-size: 1.1rem;
        }

    .benefits-section {
        background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
    }

    .benefit-item {
        padding: 1.5rem;
        transition: transform 0.2s ease-in-out;
    }

        .benefit-item:hover {
            transform: translateY(-5px);
        }

    .action-section {
        background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        color: white;
    }

        .action-section .text-muted {
            color: rgba(255, 255, 255, 0.8) !important;
        }

        .action-section .btn-outline-light:hover {
            background-color: rgba(255, 255, 255, 0.1);
            border-color: white;
        }

   

    

    .department-card, .stat-card, .value-card {
        animation: fadeInUp 0.6s ease-out;
    }
</style>
